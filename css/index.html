<!DOCTYPE html>
<html>
<head>
<title>Geolocalizacion con Google Maps</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
<script src="http://maps.google.com/maps/api/js?sensor=true"
        type="text/javascript"></script>
<script type="text/javascript">
//determine support for geolocation
if (navigator.geolocation){
//locate position
navigator.geolocation.getCurrentPosition(displayPosition, errorFunction);
 }
else{
alert('It seems like Geolocation, which is required for this page, is not enabled in your browser. Please use a browser which supports it.');
}

//success callback function
function displayPosition(pos){
var mylat = pos.coords.latitude;
var mylong = pos.coords.longitude;
var thediv = document.getElementById("locationinfo");
thediv.innerHTML = "<p>Tu ubicacion es: latitud "+mylat+" y longitud "+mylong+"</p>";
//Load Google Map
var latlng = new google.maps.LatLng(mylat, mylong);
    var myOptions = {
      zoom: 0,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
   
var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

//Add marker
var marker = new google.maps.InfoWindow({
	     position: latlng, 
	     map: map, 
	
	     content: ' Por aqui andas xD '
	 });  
	
 }
//error callback function
function errorFunction(pos){
	alert('Error!');
}

</script>
<style type="text/css">  
html, body{
	width: 100%; height: 100%;
}
#map_canvas{  
height: 85%;  
width: 100%;  
}  
</style>
</head>
<body>
<div id="map_canvas"></div>
<div id="locationinfo"></div>

</body>
</html>